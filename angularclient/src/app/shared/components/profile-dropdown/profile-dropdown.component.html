<button
  mat-fab
  color="primary"
  mat-icon-button
  class="sharedhome-circle-btn"
  [matMenuTriggerFor]="profileMenu"
  *ngIf="profileImage$ | async as profileImage; else noProfileImage"
>
  <img
    class="rounded-full"
    *ngIf="profileImage.url != null; else noProfileImage"
    [src]="profileImage?.url"
  />
</button>

<ng-template #noProfileImage>
  <button
    mat-fab
    color="primary"
    mat-icon-button
    [matMenuTriggerFor]="profileMenu"
    class="sharedhome-circle-btn"
  >
    {{ userFullName | firstLettersToTitleCase }}
  </button>
</ng-template>

<mat-menu #profileMenu="matMenu">
  <a
    [routerLink]="['/profile']"
    [routerLinkActive]="['active']"
    [routerLinkActiveOptions]="{ exact: true }"
    mat-menu-item
  >
    <mat-icon>person</mat-icon>
    <span>{{ "profile.account" | translate }}</span>
  </a>
  <button mat-menu-item (click)="logout()">
    <mat-icon>logout</mat-icon>
    <span>{{ "profile.log_out" | translate }}</span>
  </button>
</mat-menu>
